<!DOCTYPE html>
<html lang="{{ .Lang }}">
  <head>
    {{ partial "meta.html" . }}
    {{ with .Site.Params.googlefonts }}
    <link href="{{ . }}" rel="stylesheet">
    {{ else }}
    <link href="//fonts.googleapis.com/css?family=Roboto+Slab:400,700" rel="stylesheet" media="print">
    {{ end }}
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" media="print">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/solarized_dark.min.css" media="print">
    <title>{{ block "title" . }}{{ end }}{{ .Site.Title }}</title>
    {{ block "meta" . }}{{ end }}

    <link rel="shortcut icon" type="image/png" href="/images/favicon.jpg"/>
    
    <link rel="stylesheet" type="text/css" href="/css/flags16.css"/>
    <link rel="stylesheet" type="text/css" href="/css/custom.css"/>
    <style>
      {{ replaceRE " +" " " (replaceRE "\n" "" (partial "styles.css" .)) | safeCSS }}
      {{ with .Site.Params.fontfamily }} body { font-family: {{ . | safeCSS }}; } {{ end }}
      {{ with .Site.Params.logofontfamily }} .logo a { font-family: {{ . | safeCSS }}; } {{ end }}
    </style>
  </head>

  <body>
    {{ if ne (getenv "HUGO_ENV") "DEV" }}
    {{ template "_internal/google_analytics.html" . }}
    {{ end }}

    <header class="l-header">
      <div class="l-container">
        <div class="logo">
            <a href="{{ substr .Site.BaseURL 0 -1 }}{{ .Site.LanguagePrefix }}/">{{ .Site.Title }}</a>
        </div>
        <div id="language-selector" class="topNav">
          {{ if .IsTranslated }}
            {{ range .Translations }}
                <span class="f16"><a class="flag {{ .Lang }}" href="{{ .Permalink }}"/><a href="{{ .Permalink }}">{{ i18n .Lang }}</a></span>
            {{ end}}
          {{ else }}
            {{ if not (eq $.Page.Lang "es") }}<span class="f16" href="/es"><a class="flag es" href="/es"></a><a href="/es">Español</a></span>{{ end }}
            {{ if not (eq $.Page.Lang "fr") }}<span class="f16" href="/fr"><a class="flag fr" href="/fr"></a><a href="/fr">Français</a></span>{{ end }}
            {{ end }}
        </div>
        <a href="javascript:void(0);" class="icon" onclick="menuInterruptor()">&#9776;</a>
      </div>
    </header>

    <main>
      <div class="l-container">
        {{ block "main" . }}{{ end }}
      </div>
    </main>

    <footer class="l-footer">
      <div class="l-container">
        <p>{{ with .Site.Copyright }}{{ . | safeHTML }}{{ else }}<span class="h-logo">&copy; {{ .Site.Title }}</span>{{ end }}</p>
        <aside>
          <p>Powered by <a href="https://gohugo.io/">Hugo</a>.</p>
        </aside>
      </div>
    </footer>

    <script>
      var global = { languageCode  : {{ $.Page.Lang }} }
      function menuInterruptor(){
        var x = document.getElementById("language-selector");
          if (x.className === "topNav") {
              x.className += " responsive";
          } else {
              x.className = "topNav";
          }
      } 
    </script>
    <script src="/js/aws-sdk-2.108.0.min.js" async></script>
    <script src="/js/subscribe.js" async></script>
  </body>
</html>

